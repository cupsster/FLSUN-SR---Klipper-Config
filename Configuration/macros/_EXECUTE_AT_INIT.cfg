[gcode_macro _EXECUTE_AT_INIT]
description: Helper: Everything that should run at klipper start
gcode:
	{% set user = printer['gcode_macro _USER_VARIABLE'] %}
	{% if printer.save_variables.variables.filament_sensor %}
		_RESTORE_FILAMENT_SENSOR
	{% endif %}
	{% if user.hw.filter.enabled %} 
		_CHECK_FILTER
	{% endif %}
	{% if user.hw.relay.enabled %} 
		_HEATER_ON
	{% endif %}
	{% if user.hw.display.enabled %} 
		UPDATE_DELAYED_GCODE ID=_DISPLAY_INIT DURATION=2 
	{% endif %}
	_PRINT_AR T="Klipper INIT: Done"